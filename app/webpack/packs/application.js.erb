import 'rails-ujs';
// import './../javascripts/cable';

import Turbolinks from 'turbolinks';
Turbolinks.start();

import 'turbolinks-animate';
document.addEventListener( 'turbolinks:load', () => {
    TurbolinksAnimate.init({ element: document.querySelector('body.turbolinks-animate') });
})

import 'onsignal/dist/OneSignalSDK';
import OnSignal from 'onsignal';
document.addEventListener( 'turbolinks:load', () => { // change to 'ready'
    const onSignal = new OnSignal('<%= Settings.onesignal.app_id %>');
    document.querySelectorAll('#subscribe a.myg-button').forEach( (element) => element.addEventListener( 'click', () => onSignal.subscribe() ) );
})

import './../javascripts/myg/index';

// import './../javascripts/packages/welcome/welcome';


import './../stylesheets/index';
